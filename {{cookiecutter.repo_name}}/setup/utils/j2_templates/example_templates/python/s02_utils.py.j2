import os
import pickle

def ensure_dir_exists(path):
    """Create directory if it doesn't exist."""
    if not os.path.exists(path):
        os.makedirs(path)

def save_pickle(obj, path):
    """Save Python object to a .pkl file."""
    with open(path, 'wb') as f:
        pickle.dump(obj, f)

def load_pickle(path):
    """Load Python object from a .pkl file."""
    with open(path, 'rb') as f:
        return pickle.load(f)

def compute_mean(values):
    """Compute mean of a list of numeric values."""
    return sum(values) / len(values) if values else 0

def z_score(values):
    """Compute z-scores for a list of values."""
    mean = compute_mean(values)
    std = (sum([(x - mean) ** 2 for x in values]) / len(values)) ** 0.5
    return [(x - mean) / std for x in values] if std != 0 else [0 for _ in values]
